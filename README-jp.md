# bilibili-manga-download

bilibili漫画ダウンロード器（Jsonインデックス出力対応）

## 目次

## 概要
この倉庫は@xuruoyuのこの倉庫によって改編されます。
cookieの直接入力をサポートし、cookieを保存し、jsonインデックスを出力し、ユーザー定義のダウンロード経路を指定します。
ユーザー体験を最適化すると理解できるでしょう。
出力のJsonはサーバーで使用できます（PHPまたは他のウェブページ言語は直接解析できます）
使用
このプログラムは直接使用とコンパイル使用を含む2つの方法があります。
その中で、直接白を使って、カスタマイズに適した内容をコンパイルします。pythonを知っているオーディエンスを使います。

### 直接使用

distフォルダ下のbilibili漫画を直接ダウンロードしてください。exeでいいです。

### コンパイルの使用

変更やカスタムが必要なら、`index_decode.py`をダウンロードできます。`decode.py`と`manga.py`はそして`manga.py`を許します。
プログラムにコンパイルする必要があれば、このコマンドを入力できます。
`pyinstaller -i ico.ico -F manga.py -n bilibili漫画下载`のダウンロード
（注意してください。初めて使うなら、この`pip install pyinstaller`を先に実行してください。）
なお、-i ico.icoは本プログラムを設定するアイコンであり、`-n bilibili漫画下载`のダウンロードは設定プログラムの名称であり、具体的な使い方は`pyinstaller`パラメータを検索することができます。

### クッキー取得

1.お客様のパーソナルスペースを開けてください。（もしあなたのリンクが`space.bilibili.com/10843`でないなら、uid後のすべてのurlを削除することをお勧めします。）
2.F 12を開く（Fn+F 12が必要なコンピュータがあります。）
3.更新後、ネットワークオプションであなたのuidと同じファイルを見つけました。
4.クリックしてヘッダにクッキーフィールドを見つけます。
5.クッキーフィールドの内容をそのままコピーすればいいです。uuid開始）
![实例](./截图/1.png)

### コメント
1.オープンソースプロトコル
元の作者は関連のオープンソース協議を提供していませんので、本人は比較的ゆったりしたGPL契約を選びました。
また、この契約を守ってください。
2.pythonのJson出力問題
jsonを出力するにはどうすればいいか分かりませんので、直接ファイルに書き込んでしまいました。だから、jsonインデックスの部分は乱れているかもしれません。
例えば
```python

```

### 3.json出力フォーマット（jsonはサンプル）

#### manga.json（総カタログjson）

```json
[
    {
        "title":"总之就是非常可爱",
        "id":"1",
        "page":"5"
    },
    {
        "title":"魔女之旅",
        "id":"2",
        "page":"14"
    }
]
```

#### chapter.json（各漫画の章json）

### 4.jsonパス

```json
[
    {
        "id":"0",
        "title":"1_月光传递着爱的信息",
        "url":"./manga/总之就是非常可爱/1_月光传递着爱的信息",
        "page":"31"
    },
    {
        "id":"1",
        "title":"2_如此这般可喜可贺_可喜可贺",
        "url":"./manga/总之就是非常可爱/2_如此这般可喜可贺_可喜可贺",
        "page":"35"
    },
    {
        "id":"2",
        "title":"3_这件事比跟丘比特签约要简单，但是比成为魔法少女要沉重",
        "url":"./manga/总之就是非常可爱/3_这件事比跟丘比特签约要简单，但是比成为魔法少女要沉重",
        "page":"23"
    },
    {
        "id":"3",
        "title":"4_只有你才能触碰的东西",
        "url":"./manga/总之就是非常可爱/4_只有你才能触碰的东西",
        "page":"17"
    },
    {
        "id":"4",
        "title":"5_阿良良木君曾经说过，全部都喜欢",
        "url":"./manga/总之就是非常可爱/5_阿良良木君曾经说过，全部都喜欢",
        "page":"21"
    },
    {
        "id":"5",
        "title":"贺图__",
        "url":"./manga/总之就是非常可爱/贺图__",
        "page":"1"
    }
]
```

漫画リストのパスはダウンロード経路を定義します。
各漫画の章のパスはダウンロード経路/漫画名/chapter.jsonを定義しています。